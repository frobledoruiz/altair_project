<div id="container" class="col-md-12">
    <script src="http://code.highcharts.com/gantt/highcharts-gantt.js"></script>
    <script>
        // THE CHART
        var today = new Date(),
            day = 1000 * 60 * 60 * 24,
            // Utility functions
            dateFormat = Highcharts.dateFormat,
            defined = Highcharts.defined,
            isObject = Highcharts.isObject,
            reduce = Highcharts.
        // Set to 00:00:00:000 today
        today.setUTCHours(0);
        today.setUTCMinutes(0);
        today.setUTCSeconds(0);
        today.setUTCMilliseconds(0);
        today = today.get
        Highcharts.ganttChart('container', 
                        {series: [{
                                    name: 'Rebranding {{ project.name }}',
                                    data: [{
                                        name: 'Fascia',
                                        id: 'fascia',
                                        dependency: '{{ ganttimage.fascia_parent}}',
                                        start: Date.parse("{{ fascia_start | date:"F n, j"}}"),
                                        end: Date.parse("{{ fascia_end | date:"F n, j"}}"),
                                        completed: {amount: {{ganttimage.fascia_completion}}},
                                    },{
                                        name: 'Instalación Spreaders',
                                        id: 'spreader',
                                        dependency: '{{ ganttimage.spreader_parent}}',
                                        start: Date.parse("{{ spreader_start | date:"F n, j"}}"),
                                        end: Date.parse("{{ spreader_end | date:"F n, j"}}"),
                                        completed: {amount: {{ganttimage.spreader_completion}}},
                                    },{
                                        name: 'Pintura Canopy',
                                        id: 'paint',
                                        dependency: '{{ ganttimage.paint_parent}}',
                                        start: Date.parse("{{ paint_start | date:"F n, j"}}"),
                                        end: Date.parse("{{ paint_end | date:"F n, j"}}"),
                                        completed: {amount: {{ganttimage.paint_completion}}},
                                    },{
                                        name: 'Instalación rótulos',
                                        id: 'signage',
                                        dependency: '{{ ganttimage.signage_parent}}',
                                        start: Date.parse("{{ signage_start | date:"F n, j"}}"),
                                        end: Date.parse("{{ signage_end | date:"F n, j"}}"),
                                        completed: {amount: {{ganttimage.signage_completion}}},
                                    },{
                                       name: 'Construcción cimentación totem',
                                       id: 'fundation',
                                       dependency: '{{ ganttimage.fundation_parent}}',
                                       start: Date.parse("{{ fundation_start | date:"F n, j"}}"),
                                       end: Date.parse("{{ fundation_end | date:"F n, j"}}"),
                                       completed: {amount: {{ganttimage.fundation_completion}}},
                                    },{
                                      name: 'Izaje',
                                      id: 'lifting',
                                      dependency: '{{ ganttimage.lifting_parent}}',
                                      start: Date.parse("{{ lifting_start | date:"F n, j"}}"),
                                      end: Date.parse("{{ lifting_end | date:"F n, j"}}"),
                                      completed: {amount: {{ganttimage.lifting_completion}}},
                                    }]
                                }],
                        tooltip: {
                            pointFormatter: function () {
                                var point = this,
                                    format = '%e. %b',
                                    options = point.options,
                                    completed = options.completed,
                                    amount = isObject(completed) ? completed.amount : completed,
                                    status = ((amount || 0) * 100) + '%',
                                    line
                                lines = [{
                                    value: point.name,
                                    style: 'font-weight: bold;'
                                }, {
                                    title: 'Start',
                                    value: dateFormat(format, point.start)
                                }, {
                                    visible: !options.milestone,
                                    title: 'End',
                                    value: dateFormat(format, point.end)
                                }, {
                                    title: 'Completed',
                                    value: status
                                }, {
                                    title: 'Owner',
                                    value: options.owner || 'unassigned'
                                }
                                return reduce(lines, function (str, line) {
                                    var s = '',
                                        style = (
                                            defined(line.style) ? line.style : 'font-size: 0.8em;'
                                        );
                                    if (line.visible !== false) {
                                        s = (
                                            '<span style="' + style + '">' +
                                            (defined(line.title) ? line.title + ': ' : '') +
                                            (defined(line.value) ? line.value : '') +
                                            '</span><br/>'
                                        );
                                    }
                                    return str + s;
                                }, '');
                            }
                        },
                        title: {
                            text: ''
                        },
                        xAxis: {
                            currentDateIndicator: true,
                            min: today - 3 * day,
                            max: today + 18 * day
                        }
                        });
    </script>
</div>